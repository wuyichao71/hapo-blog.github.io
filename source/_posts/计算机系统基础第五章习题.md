---
title: 计算机系统基础第五章习题
date: 2023-05-13 23:10:14
mathjax: true
categories:
    - 计算机
tags:
    - 计算机系统基础
---

# 第五章

## 1.
**指令周期**: CPU取出并执行一条指令的时间成为指令周期  
**机器周期**: 一个指令周期可分为取指令、读操作数、执行并写结果等多个基本工作周期, 称为机器周期  
**控制信号**: 对指令进行译码生成的控制信息
**控制部件**: 控制部件根据每条指令功能的不同生成对数据通路的控制信号  
**功能部件**: 数据通路中专门进行数据运算的部件  
**执行部件**: 数据通路中专门进行数据运算的部件  
**操作元件**: 组合逻辑元件  
**状态元件**: 时序逻辑元件  
**多路选择器**: 多路选择器需要控制信号Select来确定选择哪个输入被输出  
**程序计数器(PC)**: 用来存放即将执行指令的地址  
**指令寄存器(IR)**: IR用以存放现行指令  
**指令译码器(ID)**: ID对指令寄存器中的操作码部分进行分析解释, 产生相应的译码信号提供给操作控制信号形成部件  
**硬连线控制器**: 硬连线路控制器的基本实现思路是, 将指令执行过程中每个时钟周期所包含的控制信号取值组合看成一个状态, 每来一个时钟周期, 控制信号会有一组新的取值, 也就是一个新的状态, 这样, 所有指令的执行过程就可以用一个有限状态转换图来描述. 实现时, 用一个组合逻辑电路(一般为PLA电路)来生成控制信号, 用一个状态寄存器实现状态之间的转换  
**微程序控制器**: 微程序控制器的基本实现思路是, 仿照程序设计方法, 将每条指令的执行过程用一个微程序来表示, 将指令执行过程中每个时钟周期所包含的控制信号取值组合看成是由多个微命令组成的一条微指令, 每条微指令实际上就是一个0/1序列, 一个微程序由若干条微指令组成  
**控制存储器(CS)**: 指令对应的微程序事先存放在的一个只读存储器  
**微指令**: 指令执行过程中每个时钟周期所包含的控制信号取值组合看成是由多个微命令组成的一条微指令  
**微程序**: 一个微程序由若干条微指令组成  
**内部异常**: 由CPU内部的异常引起的意外事件  
**外部中断**: 设备控制器向CPU发出的要求CPU对这些情况进行处理的中断请求  
**指令流水线**: 将指令的各阶段看成相应的流水段, 指令的执行过程就构成了一条指令流水线  
**指令吞吐率**: 单位时间内执行的指令个数
**流水段寄存器**: 用来保存对应组合逻辑处理的结果  
**流水线冒险**: 一些使流水无法正确、按时执行后续指令, 从而引起流水线阻塞或停顿  
<!--more-->
**结构冒险**: 也称为硬件资源冲突, 引起结构冒险的原因在于同一个部件同时被不同指令所用, 也就是说它是由硬件资源竞争造成的  
**数据冒险**: 也称为数据相关, 引起数据冒险的原因在于, 后面指令用到前面指令的运算结果时, 前面指令的结果还没产生  
**控制冒险**: 由于发生了指令执行顺序改变而引起的流水线阻塞  
**流水线阻塞**: 流水线无法正确、按时执行后续指令  
**空操作**: 除修改PC外其他什么操作都不做  
**转发(旁路)**: 在数据通路中一旦产生运算结果或一旦存储器读出数据, 就把它们通过一条旁路直接送到相关后续指令在ALU阶段的ALU输入端  
**延迟时间损失片**: 由于流水线阻塞而带来的延迟执行周期数  
**静态多发射**: 通过编译器静态推测来辅助完成"指令打包"和"冒险处理"  
**动态多发射**: 由处理器硬件动态进行流水线调度来完成"指令打包"和"冒险处理", 能在一个时钟周期内执行一条以上指令  
**超流水线**: 通过增加流水线级数来使更多的指令同时在流水线中重叠执行  
**超长指令字(VLIW)**: 静态多发射指令最初被称为"超长指令字"  
**超标量流水线**: 采用动态多发射流水线技术
**动态流水线调度**: 处理器通过指令相关性检测和动态分支预测等手段, 投机性地不按指令顺序执行, 当发生流水线阻塞时, 根据指令的依赖关系, 动态地到后面找一些没有依赖关系的指令提前执行  
**乱序执行**: 动态流水线调度  

## 2.
(1) CPU最基本的部件是数据通路和控制部件, CPU的基本职能是周而复始地执行指令
(2) 每条指令的执行都会改变PC中的值, 因而CPU能够不断地执行新的指令
(3) 一条指令的执行要经过取指令、指令译码、计算源操作数地址并取操作数、执行数据操作、计算目的操作数地址并存结果、计算下条指令地址这几个步骤. 对于取指令和指令译码, 所有指令的操作都一样, 其余步骤不同指令的操作可能不同
(4) 取指令部件的功能是从PC所指的存储单元中取出指令送到指令寄存器(IR). 控制器的功能是对指令进行译码, 将译码结果与状态/标志信号和时序信号等进行组合, 产生指令执行过程中所需的控制信号
(5) 因为为了使CPU能从执行指令状态转入等待状态, 需要有一个控制信号, 该控制信号用WMFC表示, 在同步方式下, 存储器总是在读信号read发出后的固定几个时钟周期内准备好数据， 因而CPU不必等待主存发回MFC信号
(6) 硬连线控制器诉对快, 适合于实现简单、规整的指令系统. 微程序控制器因为采用软件设计思想, 不管指令多复杂, 只要事先将其包含的操作所用的控制信号存储在控存中, 就可以在指令执行时将控制信号取出, 以控制指令的执行
(7) 硬连线路控制器适合于实现简单、规整的指令系统, 而微程序控制器只要事先将其包含的操作所用的控制信号存储在控存中, 就可以在指令执行时将控制信号取出, 以控制指令的执行
(8) 流水下方式下, 一条指令执行时间加长了, 程序的执行时间缩短了
(9) 1. 指南长度应尽量一致 2. 指令格式应尽量规整 3. 采用load/store型指令风格 4. 数据和指令在存储器中要"对齐"存放

## 3.
(1) 40ps
(2) 280ps

## 4.
PC~out~, MOVb, MAR~in~
MemR
PC~out~, INCb, Y~in~
Y~out~, MOVa, PC~in~
MDR~out~, MOVb, IR~in~
PC~out~, MOVb, MAR~in~
MemR
PC~out~, INCb, Y~in~
Y~out~, MOVa, PC~in~
SP~out, DECb, Y~in~
Y~out~, MOVa, SP~in~
SP~out~, MOVb, MAR~in~
MemW

## 5.
(1)
|时钟|功能|有效控制信号|
|-|-|-|
|C1|Y&larr;MDR|MDR~out~, Y~in~|
|C2|Z&larr;(R1)+Y|R1~out~, add(Z~in~)|
|C3|R1&larr;(Z)|Z~out~, R1~in~|

3个时钟周期

(2)
|时钟|功能|有效控制信号|
|-|-|-|
|C1|MAR&larr;MDR|MDR~out~, MAR~in~|
|C2(2)|MDR&larr;M(MAR)|MemR|
|C3|Y&larr;MDR|MDR~out~, Y~in~|
|C4|Z&larr;(R1)+Y|R1~out~, add(Z~in~)|
|C5|R1&larr;(Z)|Z~out~, R1~in~|

6个时钟周期

(3)
|时钟|功能|有效控制信号|
|-|-|-|
|C1|MAR&larr;MDR|MDR~out~, MAR~in~|
|C2(2)|MDR&larr;M(MAR)|MemR|
|C3|MAR&larr;MDR|MDR~out~, MAR~in~|
|C4(2)|MDR&larr;M(MAR)|MemR|
|C5|Y&larr;MDR|MDR~out~, Y~in~|
|C6|Z&larr;(R1)+Y|R1~out~, add(Z~in~)|
|C7|R1&larr;(Z)|Z~out~, R1~in~|

9个时钟周期

## 6.
(1) 否, 因为时钟周期由最慢的存储单元决定
(2) 此时的ALU操作时间是180ps, 因此无影响
(3) 此时的ALU操作时间是210ps, 此时会变慢

## 7.
(1) 
(2) 
(3) 

## 8.
(1)
(2)
(3)
(4)

## 9.

## 10.
(1)
(2)

## 11.

